ed (1:2.1.0-1) unstable; urgency=medium

  * Fix memory leaks flagged by valgrind.

  * Add target `check-valgrind'.

  * Remove remainder of generated files.

  * Comply with REUSE Specification – Version 3.0.

  * Apply script to each file on command line.
    For this to work, the script must be seekable. And to avoid infinite
    loops, if the script modifies the input file list, it is only applied
    to the first file on the command line.

  * Fix typo to prevent double-free on Linux.

  * In substitution templates, support case modifier sequences:

	\L - Substitute in lowercase until \E.
	\l - Substitute next char in lowercase.
	\U - Substitute in uppercase until \E.
	\u - Substitute next char in uppercase.

    As currently implemented, these only work for 8-bit locales.
    The sequences \L and \U can be nested.  For instance, given input:
    `abcde', the command:

	s/\(.\)\(.\)/\U\L\1\E \2/g

    produces: `a Bc De', i.e., \L overrides \U until \E, then \U becomes
    active again until the end of the current substitution.

  * In substitution templates, a back-reference that does not match any
    subexpressions is now replaced with the empty string instead of the
    offending digit, as per The Open Group's 2018 publication (cf.
    https://pubs.opengroup.org/onlinepubs/9699919799/utilities/ed.html).

  * Restore missing REG_NOTBOL.
    Reported by Victor <vico/tuta+io>.

  * Report error if fflush fails.

  * Add CPP flag _FORTIFY_SOURCE=3.

  * Add configure option for command-line address arguments.

  * Support command-line address arguments.
    Valid address arguments are

	+N   - Go to and print line N.
	+/RE - Search forward to and print the first line matching RE.
	+?RE - Search backward to and print the first line matching RE.

    Address arguments can be repeated, e.g.,

	ed +3 +/RE1 +?RE2 FILE

    searches FILE forward from line 3 for RE1 and, from there,
    backward for RE2.

  * Silence clang format string warnings on arm and aarch64.

  * Handle edge case where backslash is used as pattern delimiter.

    POSIX does not disallow backslash (\) as a pattern delimiter ed, but
    it does specify that a backslash-escaped delimiter may occur in the
    pattern. Therefore, just as:

    ```shell
    ed <<'EOF'
    a
    hel\o
    .
    s;\\
    EOF
    ```

    is a valid script producing output 'helo', the following should
    produce the same:

    ```shell
    ed <<'EOF'
    a
    hel\o
    .
    s\\\
    EOF
    ```

    Prior to this commit the substitution `s\\\` was being interpreted as
    `s///`, not `s/\\//p` as it should.

  * Support static builds.

  * Properly handle configure's --disable-feature options.
    Don't nest Autoconf macro AS_IF.
    Warn if an extension is enabled by another.
    Support enabling all feature extensions and then selectively disabling
    some, e.g.,

	./configure --enable-all-extensions --disable-ed-encryption

  * Add  autoreconf to GitHub actions.

  * Support GNU regex operators in extended regular expressions.

  * When `ed` is linked against a GNU regex library and invoked with
    either option `-E` or `-r`, then the following additional GNU regular
    expression operators are recognized:

      \s - matches a whitespace character
      \S - matches a non-whitespace character
      \w - matches a word character
      \W - matches a non-word character
      \< - matches the beginning of a word
      \> - matches the end of a word
      \b - matches a word boundary (beginning or end)
      \B - matches a non-word boundary

  * "Words" in the above are any sequence of UTF-8 characters, digits
    and/or underscores (_).
      $ ed -re 's/\W+//gp' <(echo 'hϵllo, ☪ こんにちは')
      hϵlloこんにちは
      $


ed (1:2.0.13-2) unstable; urgency=medium

  * Allow ed to read output of process substitution, e.g.:
      $ ed -e 'p'  <(echo hello)
      echo
      $
  * Support GNU regex operators in extended regular expressions.
  * Handle edge case where backslash is used as pattern delimiter.
  * Support command-line address arguments, e.g.:
      $ ed +3 +/RE1 +?RE2 FILE
    searches FILE forward from line 3 for RE1 and, from there,
    backward for RE2.

 -- Andrew L. Moore <slewsys@gmail.com>  Fri, 08 Sep 2023 01:40:08 +0000

ed (1:2.0.13-1) unstable; urgency=high

  * Initial Debian package support.

 -- Andrew L. Moore <slewsys@gmail.com>  Wed, 12 Jan 2022 04:52:57 -0500
